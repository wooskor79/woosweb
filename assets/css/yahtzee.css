/* ================================================================
   Yahtzee 게임 전용 스타일
   ================================================================ */
.stats-summary {
  margin-bottom: 16px;
  padding: 10px;
  background-color: #f6fafe;
  border: 1px solid var(--border);
  border-radius: var(--br);
  font-size: 14px;
}
.stats-summary strong { color: var(--primary-ink); }

.panel-body.yahtzee-game { padding-top: 0; }
.yahtzee-game .sticky-header { position: -webkit-sticky; position: sticky; top: 0; background: var(--bg); padding-top: 16px; z-index: 10; }
.yahtzee-game .game-section { background: #fdfdff; padding: 16px; border: 1px solid var(--border); border-radius: var(--br); }
.yahtzee-game .top-bar { display: flex; gap: 16px; align-items: center; flex-wrap: wrap; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid var(--border); }
.yahtzee-game .turn-indicator, .yahtzee-game .rolls-left { font-size: 14px; }
.yahtzee-game .turn-indicator strong { color: var(--primary-ink); }
.yahtzee-game #easterEggTrigger { cursor: default; } 
.yahtzee-game .rolls-left strong { color: var(--danger); }
.yahtzee-game .controls { display: flex; gap: 8px; align-items: center; }
.yahtzee-game .controls button.primary { background: var(--primary); }
.yahtzee-game .controls button { background: #fff; color: var(--ink); border: 1px solid var(--border); }
.yahtzee-game .controls button#rollBtn.ai-turn { background-color: var(--danger); color: white; cursor: not-allowed; }
.yahtzee-game .controls label { font-size: 13px; color: var(--muted); }

.yahtzee-game .dice-board { background: #f7f9fc; border: 1px solid var(--border); border-radius: var(--br); padding: 16px; margin-top: 16px; }

.yahtzee-game .dice-display-area { display: flex; align-items: center; justify-content: center; min-height: 80px; border: 2px dashed #d1d5db; border-radius: var(--br); background: #fff; }
.yahtzee-game .dice-display-area .pre-hint-text { color: var(--muted); }
.yahtzee-game .dice-display-area.has-dice .pre-hint-text { display: none; }
.yahtzee-game .dice-row { display: none; gap: 16px; flex-wrap: wrap; justify-content: center; align-items: center; }
.yahtzee-game .dice-display-area.has-dice .dice-row { display: flex; }

.yahtzee-game .scoreboards { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 16px; margin-top: 16px; }
.yahtzee-game .scorecard { background: #fff; border: 1px solid var(--border); border-radius: var(--br); padding: 12px; }
.yahtzee-game .scorecard h3 { margin: 0 0 12px; font-size: 16px; border-bottom: 1px solid var(--border); padding-bottom: 8px; }
.yahtzee-game .score-table { width: 100%; border-collapse: collapse; font-size: 14px; }
.yahtzee-game .score-table tr { border-bottom: 1px solid #f3f4f6; transition: background-color 0.2s ease; }
.yahtzee-game .score-table td { padding: 9px 4px; vertical-align: middle; }
.yahtzee-game .score-table tr.clickable { cursor: pointer; }
.yahtzee-game .score-table tr.clickable:hover { background-color: #f0f7ff; }
.yahtzee-game .score-table tr.ai-choosing { background-color: #e0fff0 !important; }
.yahtzee-game .score-table tr.used { background-color: #f3f4f6; }
.yahtzee-game .score-table tr.used td:first-child { display: flex; align-items: center; gap: 8px; color: var(--muted); }
.yahtzee-game .score-table tr.used td.score { color: var(--ink); opacity: 0.8; }
.yahtzee-game .score-table .score { font-weight: 600; text-align: right; }
.yahtzee-game .score-table.ai tr.clickable:hover { background: transparent; cursor: default; }
.yahtzee-game .score-table hr { display: none; }

.yahtzee-game .score-table tr.last-choice {
  background-color: #fee2e2;
  border-left: 3px solid #f87171;
}
.yahtzee-game .score-table tr.last-choice td:first-child {
  padding-left: 2px;
}

.yahtzee-game .score-dice { display: inline-flex; gap: 3px; }
.yahtzee-game .score-dice .sd { font-size: 16px; color: var(--muted); }
.yahtzee-game .totals { font-size: 13px; margin-top: 12px; padding-top: 8px; border-top: 1px solid var(--border); display: flex; flex-direction: column; gap: 4px; }
.yahtzee-game .totals div { display: flex; justify-content: space-between; }
.yahtzee-game .grand-total { font-size: 16px; font-weight: 700; margin-top: 4px; color: var(--primary-ink); }
.yahtzee-game .die { width: 50px; height: 50px; border-radius: 8px; background: #fff; border: 1px solid #d1d5db; position: relative; display: grid; place-items: center; box-shadow: 0 4px 6px rgba(0,0,0,.05); user-select: none; transition: all 0.2s ease-in-out; cursor: pointer; }
.yahtzee-game .die:hover { transform: translateY(-3px); box-shadow: 0 7px 14px rgba(0,0,0,.07); }
.yahtzee-game .pips { position: absolute; inset: 5px; display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); }
.yahtzee-game .pip { width: 9px; height: 9px; background: #222; border-radius: 50%; margin: auto; }
.yahtzee-game .die.held { border-color: var(--primary); background: #eff6ff; transform: scale(0.95); box-shadow: 0 0 0 3px rgba(134, 182, 246, .4); }
.yahtzee-game .die.held::after { content: "HOLD"; position: absolute; top: 3px; right: 4px; font-size: 8px; font-weight: 700; letter-spacing: .3px; color: #fff; background: var(--primary-ink); border-radius: 999px; padding: 2px 5px; pointer-events: none; }
.yahtzee-game .die.rolling { animation: dice-roll-light 0.5s ease-out; }
@keyframes dice-roll-light {
  0%   { transform: translateY(0) rotate(0deg); }
  50%  { transform: translateY(-20px) rotate(180deg); opacity: 0.8; }
  100% { transform: translateY(0) rotate(360deg); opacity: 1; }
}

.yahtzee-game .face-1 .p1{grid-area:2/2}.yahtzee-game .face-2 .p1{grid-area:1/1}.yahtzee-game .face-2 .p2{grid-area:3/3}.yahtzee-game .face-3 .p1{grid-area:1/1}.yahtzee-game .face-3 .p2{grid-area:2/2}.yahtzee-game .face-3 .p3{grid-area:3/3}.yahtzee-game .face-4 .p1{grid-area:1/1}.yahtzee-game .face-4 .p2{grid-area:1/3}.yahtzee-game .face-4 .p3{grid-area:3/1}.yahtzee-game .face-4 .p4{grid-area:3/3}.yahtzee-game .face-5 .p1{grid-area:1/1}.yahtzee-game .face-5 .p2{grid-area:1/3}.yahtzee-game .face-5 .p3{grid-area:2/2}.yahtzee-game .face-5 .p4{grid-area:3/1}.yahtzee-game .face-5 .p5{grid-area:3/3}.yahtzee-game .face-6 .p1{grid-area:1/1}.yahtzee-game .face-6 .p2{grid-area:1/2}.yahtzee-game .face-6 .p3{grid-area:1/3}.yahtzee-game .face-6 .p4{grid-area:3/1}.yahtzee-game .face-6 .p5{grid-area:3/2}.yahtzee-game .face-6 .p6{grid-area:3/3}
.yahtzee-game .results-section { margin-top: 24px; }
.yahtzee-game .results-section h3 { margin-bottom: 4px; }
.yahtzee-game .results-section .small { margin: 0 0 8px; font-size: 12px; color: var(--muted); }
.yahtzee-game .leaderboard-table { width: 100%; border-collapse: collapse; }
.yahtzee-modal-overlay { position: fixed; inset: 0; background: rgba(30, 41, 59, .6); display: flex; align-items: center; justify-content: center; z-index: 1000; backdrop-filter: blur(4px); }
.yahtzee-modal-overlay.hidden { display: none; }
.yahtzee-modal-overlay .modal { background: #fff; padding: 20px; border-radius: var(--br); width: 90%; max-width: 400px; box-shadow: 0 10px 25px rgba(0,0,0,.1); }
.yahtzee-modal-overlay .modal .modal-actions { display: none; justify-content: flex-end; gap: 8px; margin-top: 16px; }
.yahtzee-modal-overlay .modal.modal-type-confirm #confirmActions { display: flex; }
.yahtzee-modal-overlay .modal.modal-type-endgame #endGameActions { display: flex; }
.yahtzee-modal-overlay .modal-actions button:first-child { background: var(--primary); }